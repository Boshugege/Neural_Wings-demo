{
    "views": [
        {
            "name": "follow_2",
            "viewport": [
                0,
                0,
                1,
                1
            ],
            "clearBackground": false,
            "backgroundColor": [
                255,
                255,
                255,
                255
            ]
        }
    ],
    "postProcess": {
        "name": "GTAO",
        "hints": "rtPool使用accuracy_前缀表示使用浮点纹理",
        "rtPool": [
            "inScreen",
            "GTAO",
            "GTAO_Blur_1",
            "GTAO_Blur_2",
            "accuracy_raw_Fluid_Depth",
            "accuracy_FluidBlur_1",
            "accuracy_FluidBlur_2",
            "accuracy_raw_Normal",
            "accuracy_raw_Fluid_Thickness",
            "accuracy_rawScreen",
            "outScreen",
            "Screen1",
            "Screen2"
        ],
        "depthLinks": [
            {
                "source": "inScreen",
                "targets": [
                    "rawScreen",
                    "raw_Fluid_Depth",
                    "raw_Fluid_Thickness",
                    "raw_Normal",
                    "Screen1",
                    "Screen2"
                ]
            }
        ],
        "hint": "拓扑序",
        "postProcessGraph": [
            {
                "name": "GTAO",
                "vs": "assets/shaders/postprocess/default.vs",
                "fs": "assets/shaders/postprocess/GTAO/gtao.fs",
                "inputs": [
                    [
                        "u_rawScreen",
                        "inScreen"
                    ]
                ],
                "output": "GTAO",
                "uniforms": {
                    "u_radius": 0.6,
                    "u_slices": 10,
                    "u_intensity": 1.5,
                    "u_steps": 6,
                    "u_near": 0.01,
                    "u_far": 100.0
                }
            },
            {
                "name": "GTAO_Blur",
                "vs": "assets/shaders/postprocess/default.vs",
                "fs": "assets/shaders/postprocess/bilateral_blur.fs",
                "inputs": [
                    [
                        "u_Tex",
                        "GTAO"
                    ]
                ],
                "output": "GTAO_Blur_1",
                "uniforms": {
                    "u_dir": [
                        1.0,
                        0.0
                    ],
                    "u_radius": 2
                }
            },
            {
                "name": "GTAO_Blur",
                "vs": "assets/shaders/postprocess/default.vs",
                "fs": "assets/shaders/postprocess/bilateral_blur.fs",
                "inputs": [
                    [
                        "u_Tex",
                        "GTAO_Blur_1"
                    ]
                ],
                "output": "GTAO_Blur_2",
                "uniforms": {
                    "u_dir": [
                        0.0,
                        1.0
                    ],
                    "u_radius": 2
                }
            },
            {
                "name": "Combine",
                "vs": "assets/shaders/postprocess/default.vs",
                "fs": "assets/shaders/postprocess/GTAO/combine.fs",
                "inputs": [
                    [
                        "u_baseTex",
                        "inScreen"
                    ],
                    [
                        "u_gtaoTex",
                        "GTAO_Blur_2"
                    ]
                ],
                "output": "rawScreen"
            },
            {
                "name": "DepthBlur",
                "vs": "assets/shaders/postprocess/default.vs",
                "fs": "assets/shaders/postprocess/bilateral_blur.fs",
                "inputs": [
                    [
                        "u_fluidDepth",
                        "raw_Fluid_Depth"
                    ]
                ],
                "output": "FluidBlur_1",
                "uniforms": {
                    "u_dir": [
                        1,
                        0
                    ],
                    "u_radius": 20
                }
            },
            {
                "name": "New DepthBlur",
                "vs": "assets/shaders/postprocess/default.vs",
                "fs": "assets/shaders/postprocess/bilateral_blur.fs",
                "inputs": [
                    [
                        "u_fluidDepth",
                        "FluidBlur_1"
                    ]
                ],
                "output": "FluidBlur_2",
                "uniforms": {
                    "u_dir": [
                        0,
                        1
                    ],
                    "u_radius": 20
                }
            },
            {
                "name": "NormalBuild",
                "vs": "assets/shaders/postprocess/default.vs",
                "fs": "assets/shaders/postprocess/normalBuild.fs",
                "inputs": [
                    [
                        "u_fluidDepth",
                        "FluidBlur_2"
                    ]
                ],
                "output": "raw_Normal",
                "uniforms": {}
            },
            {
                "name": "Shading",
                "vs": "assets/shaders/postprocess/default.vs",
                "fs": "assets/shaders/postprocess/sph_ssf.fs",
                "inputs": [
                    [
                        "u_sceneTex",
                        "rawScreen"
                    ],
                    [
                        "u_fluidDepth",
                        "FluidBlur_2"
                    ],
                    [
                        "u_thickness",
                        "raw_Fluid_Thickness"
                    ],
                    [
                        "u_normal",
                        "raw_Normal"
                    ]
                ],
                "output": "Screen1",
                "uniforms": {}
            },
            {
                "name": "Foggy",
                "fs": "assets/shaders/postprocess/fog/fog.fs",
                "inputs": [
                    [
                        "u_screen",
                        "Screen1"
                    ]
                ],
                "output": "Screen2",
                "uniforms": {
                    "u_density": 0.001,
                    "u_dustColor": [
                        1.0,
                        1.0,
                        1.0
                    ]
                }
            },
            {
                "name": "Cloud",
                "fs": "assets/shaders/postprocess/cloud/clumpy_cloud.fs",
                "inputs": [
                    [
                        "u_screen",
                        "Screen2"
                    ]
                ],
                "output": "outScreen",
                "uniforms": {
                    "u_cloudFrequency": 0.05,
                    "u_cloudSize": 0.60,
                    "u_cloudThickness": 0.1,
                    "u_windDir": [
                        1,
                        0,
                        1
                    ],
                    "u_windSpeed": 10.0,
                    "u_stretch": 1.0,
                    "u_distVar": 1.0,
                    "u_density": 0.1,
                    "MAX_STEPS": 24,
                    "MAX_DIST": 2000,
                    "STEP_SIZE": 18.0
                }
            }
        ]
    }
}